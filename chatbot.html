<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Homework AI</title>
<style>
body { font-family: sans-serif; background: #121212; color: white; text-align: center; padding: 20px; }
#chat { max-width: 600px; margin: auto; text-align: left; border: 2px solid #555; padding: 10px; height: 400px; overflow-y: auto; }
.user { color: #00f; margin: 5px 0; }
.bot { color: #0f0; margin: 5px 0; }
input { width: 70%; padding: 10px; font-size: 16px; }
button { padding: 10px; font-size: 16px; }
</style>
</head>
<body>
<h1>Homework Helper AI</h1>
<div id="chat"></div>
<input type="text" id="msg" placeholder="Ask a question">
<button onclick="sendMessage()">Send</button>

<!-- mlc-ai web llm -->
<script type="module">
import { WebLLM } from "https://cdn.jsdelivr.net/npm/@mlc-ai/web-llm@0.3.1/dist/web-llm.min.js";

// Initialize the AI model (gpt4all-j in browser)
const llm = new WebLLM({ model: "gpt4all-j", backend: "webgpu" });
await llm.loadModel();

async function sendMessage() {
    const chatDiv = document.getElementById("chat");
    const input = document.getElementById("msg");
    const userMsg = input.value.trim();
    if(!userMsg) return;

    // Display user message
    const userElem = document.createElement("div");
    userElem.className = "user";
    userElem.textContent = "You: " + userMsg;
    chatDiv.appendChild(userElem);

    input.value = "";
    chatDiv.scrollTop = chatDiv.scrollHeight;

    // Get AI response
    const aiResponse = await llm.predict(userMsg, { max_new_tokens: 150 });

    const botElem = document.createElement("div");
    botElem.className = "bot";
    botElem.textContent = "AI: " + aiResponse;
    chatDiv.appendChild(botElem);

    chatDiv.scrollTop = chatDiv.scrollHeight;
}
</script>
</body>
</html>
